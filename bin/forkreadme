#!/usr/bin/env ruby
# vim: et ts=2 sw=2

require "forkreadme"
require "thor"

module ForkReadme
  class App < Thor

    desc "generate [DIR]", "Generate a README for a GitHub fork repo"
    method_option :path, :default=>"."
    def generate path=""
      begin
        dir = File.expand_path path, Dir.pwd
        puts Generator.new(dir).readme

      rescue ForkReadme::Error => err
        $stderr.puts err
        exit false
      end
    end
  end
end

ForkReadme::App.start
